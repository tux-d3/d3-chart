<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../tux-d3/tux-d3.html">
<link rel="import" href="../d3-data-broker-behavior/d3-data-broker-behavior.html">
<dom-module id='d3-chart'>
    <template>
        <style>
        :host ::content #chart rect {
          fill: steelblue;
        }

        :host ::content #chart text {
          fill: white;
          font: 10px sans-serif;
          text-anchor: end;
        }

        :host ::content #chart text#noData {
            fill: gray;
            font: 22px "Roboto";
            text-anchor: center;
        }
        </style>
        <content select='d3-data-source'></content>
        <svg id='chartViewPort'></svg>
        <content select=':not(d3-data-source)'></content>
    </template>
    <script>
    Polymer({
        is: 'd3-chart',

        width: {
            type: Number,
            value: 640,
            notify: true
        },

        height: {
            type: Number,
            value: 400,
            notify: true
        },


        ready: function() {
            var self = this;
        },

        attached: function() {

        },

        _refresh: function() {
          var chart = d3.select(self.$.chart)
              .attr("width", self.width)
              .attr("height", self.height);
        },
        behaviors: [ TuxD3.DataBrokerBehavior ]
    });
    </script>
</dom-module>
